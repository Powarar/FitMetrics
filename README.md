
<div align="center">

# üí™ FitMetrics

**–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å‚Äë—Ç—Ä–µ–∫–∏–Ω–≥–∞: FastAPI –±—ç–∫–µ–Ω–¥ + –∫—Ä–∞—Å–∏–≤—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥‚Äë–¥–∞—à–±–æ—Ä–¥**

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109+-green.svg)](https://fastapi.tiangolo.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)](https://www.postgresql.org/)
[![Redis](https://img.shields.io/badge/Redis-cache-red.svg)](https://redis.io/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED.svg)](https://www.docker.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

[–û–ø–∏—Å–∞–Ω–∏–µ](#-–æ–ø–∏—Å–∞–Ω–∏–µ) ‚Ä¢
[–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) ‚Ä¢
[–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞) ‚Ä¢
[–§—Ä–æ–Ω—Ç–µ–Ω–¥](#-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-dashboard) ‚Ä¢
[API](#-api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) ‚Ä¢
[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞) ‚Ä¢
[–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

</div>

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

FitMetrics ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π REST API —Å –¥–∞—à–±–æ—Ä–¥–æ–º –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ –æ–±—ä—ë–º–∞ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º.  
–ë—ç–∫–µ–Ω–¥ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ FastAPI —Å PostgreSQL –∏ Redis, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –ª—ë–≥–∫–∏–π –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π dashboard –Ω–∞ —á–∏—Å—Ç–æ–º HTML/CSS/JS —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –Ω–∞ Chart.js.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ë—ç–∫–µ–Ω–¥

- üèãÔ∏è **–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏**
  - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–æ–¥—Å—á—ë—Ç –æ–±—â–µ–≥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ –æ–±—ä—ë–º–∞ (sets √ó reps √ó weight)
  - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º –∏ –º—ã—à–µ—á–Ω—ã–º –≥—Ä—É–ø–ø–∞–º
- üìä **–ú–µ—Ç—Ä–∏–∫–∏**
  - –°–≤–æ–¥–∫–∞ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥: –æ–±—â–∏–π –æ–±—ä—ë–º, —Å—Ä–µ–¥–Ω–∏–π –æ–±—ä—ë–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫  
  - –¢–∞–π–º–ª–∞–π–Ω –ø–æ –¥–Ω—è–º: –æ–±—ä—ë–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –ø–æ–¥—Ö–æ–¥—ã, —Å—Ä–µ–¥–Ω–∏–π –≤–µ—Å
- üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –õ–æ–≥–∏–Ω –ø–æ email/–ø–∞—Ä–æ–ª—é —Å –≤—ã–¥–∞—á–µ–π JWT
  - Logout —Å –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞ –≤ Redis
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç `/auth/me` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—Ç–µ–∫: FastAPI + SQLAlchemy 2.0 (async) + asyncpg
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Redis (–æ–±—â–∏–π `cache_manager`)
  - Alembic‚Äë–º–∏–≥—Ä–∞—Ü–∏–∏
  - Docker + Docker Compose –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
  - –õ–æ–≥–∏—Ä—É—é—â–∏–π HTTP‚Äëmiddleware

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Dashboard)

- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI**
  - –¢—ë–º–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π layout (desktop / tablet / mobile)
- üë§ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
  - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –≤—Ö–æ–¥ (`index.html`) –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (`register.html`)
  - –•—Ä–∞–Ω–µ–Ω–∏–µ JWT –≤ `localStorage`
  - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- üìà **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
  - –§–∏–ª—å—Ç—Ä—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏: **7 / 30 / 90 / 365** –¥–Ω–µ–π
  - –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫:
    - –û–±—â–∏–π –æ–±—ä—ë–º –∑–∞ –ø–µ—Ä–∏–æ–¥
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
    - –°—Ä–µ–¥–Ω–∏–π –æ–±—ä—ë–º –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
  - 4 –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ Chart.js:
    - –û–±—ä—ë–º –ø–æ –¥–Ω—è–º
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
    - –°—Ä–µ–¥–Ω–∏–π –≤–µ—Å –ø–æ –¥–Ω—è–º
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥–æ–≤
- üìã **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫**
  - –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ, –ø–æ–¥—Ö–æ–¥—ã, –ø–æ–≤—Ç–æ—Ä—ã, –≤–µ—Å, –≥—Ä—É–ø–ø–∞ –º—ã—à—Ü, –∏—Ç–æ–≥–æ–≤—ã–π –æ–±—ä—ë–º, –¥–∞—Ç–∞)
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫**
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ä–º–æ–π
  - –ü–æ–ª—è: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ, –≥—Ä—É–ø–ø–∞ –º—ã—à—Ü, –ø–æ–¥—Ö–æ–¥—ã, –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è, –≤–µ—Å
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç –¥–∞—à–±–æ—Ä–¥–∞ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è          | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                                  |
|--------------------|---------------------------------------------|
| **Backend**        | FastAPI, Python 3.11+, Pydantic             |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**    | PostgreSQL, SQLAlchemy 2.0 (async), Alembic |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**    | Redis, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `cache_manager`          |
| **–§—Ä–æ–Ω—Ç–µ–Ω–¥**       | HTML5, CSS3 (Grid/Flexbox), Vanilla JS, Chart.js |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**| Docker, Docker Compose                      |
| **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**    | Apache Airflow (–∫–∞—Ç–∞–ª–æ–≥ `airflow/`)         |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**   | pytest, pytest-asyncio                      |

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker & Docker Compose  
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±–Ω—ã—Ö –∫–æ–º–∞–Ω–¥)  
- Python 3.11+ (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—à—å –±—ç–∫–µ–Ω–¥ –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ Docker)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (—á–µ—Ä–µ–∑ Docker)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Powarar/FitMetrics.git
cd FitMetrics

# 2. –°–æ–∑–¥–∞—Ç—å .env –ø–æ –ø—Ä–∏–º–µ—Ä—É
cp .env.example .env

# 3. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–ë–î + Redis + –º–∏–≥—Ä–∞—Ü–∏–∏ + –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
make init
# –∏–ª–∏, –≤—Ä—É—á–Ω—É—é:
# docker-compose up -d
# docker-compose exec app alembic upgrade head
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

- API: http://localhost:8000  
- Swagger UI: http://localhost:8000/docs  
- Health‚Äëcheck: http://localhost:8000/health  

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±—ç–∫–µ–Ω–¥–∞ (–±–µ–∑ Docker –¥–ª—è –∫–æ–¥–∞)

```bash
# 1. –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/Mac:
# source venv/bin/activate

# 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –ü–æ–¥–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (Postgres + Redis)
make db-local
# –∏–ª–∏ docker-compose up -d postgres redis

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
uvicorn app.main:app --reload
```

---

## üñ• –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Dashboard)

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ª–µ–∂–∏—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥–µ [`frontend/`](./frontend):

- `index.html` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ (login)
- `register.html` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `dashboard.html` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ —Å–ø–∏—Å–∫–æ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- `styles.css` ‚Äî —Å—Ç–∏–ª–∏
- `auth.js` ‚Äî –ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ª–æ–≥–∏–Ω–∞ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
- `dashboard.js` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ç—Ä–∏–∫/—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤

### –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
cd frontend
python -m http.server 3000
```

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:  
http://localhost:3000

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://localhost:8000/api/v1`.  
–≠—Ç–æ –∑–∞–¥–∞—ë—Ç—Å—è –≤:

```javascript
// frontend/auth.js –∏ frontend/dashboard.js
const API_BASE_URL = 'http://localhost:8000/api/v1';
```

### CORS‚Äë–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ FastAPI

–í `app/main.py` —É–∂–µ –ø–æ–¥–∫–ª—é—á—ë–Ω `CORSMiddleware`:

```python
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ origin‚Äô—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–¥‚ÄëURL).

---

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±—ç–∫–µ–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

- Swagger UI: http://localhost:8000/docs  
- ReDoc: http://localhost:8000/redoc  
- OpenAPI JSON: http://localhost:8000/openapi.json  

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: `POST /api/v1/auth/register`
- –õ–æ–≥–∏–Ω (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT): `POST /api/v1/auth/login`
  - –§–æ—Ä–º–∞—Ç: `application/x-www-form-urlencoded`
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `username` (email), `password`
- –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `GET /api/v1/auth/me` (–∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <token>`)

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

#### –õ–æ–≥–∏–Ω –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

```bash
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=test@fitmetrics.com&password=your_password"
```

#### –°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É

```bash
curl -X POST "http://localhost:8000/api/v1/workouts/" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "exercise_name": "Bench Press",
    "muscle_group": "chest",
    "sets": 4,
    "reps": 10,
    "weight": 80.5
  }'
```

#### –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

```bash
curl -X GET "http://localhost:8000/api/v1/workouts?limit=10&offset=0" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### –°–≤–æ–¥–∫–∞ –º–µ—Ç—Ä–∏–∫ –∑–∞ N –¥–Ω–µ–π

```bash
curl -X GET "http://localhost:8000/api/v1/metrics/summary?days=30" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### –¢–∞–π–º–ª–∞–π–Ω –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

```bash
curl -X GET "http://localhost:8000/api/v1/metrics/timeline?days=30" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

–û—Ç–≤–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–æ–±—ä—ë–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –ø–æ–¥—Ö–æ–¥—ã, —Å—Ä–µ–¥–Ω–∏–π –≤–µ—Å –ø–æ –¥–Ω—è–º).

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Repository + Service Layer** —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ—ë–≤.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

```bash
app/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ deps.py                # –æ–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (DB, Redis, current_user)
‚îÇ   ‚îî‚îÄ‚îÄ v1/
‚îÇ       ‚îú‚îÄ‚îÄ auth.py            # —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, logout, /me
‚îÇ       ‚îú‚îÄ‚îÄ workouts.py        # CRUD –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
‚îÇ       ‚îî‚îÄ‚îÄ metrics.py         # –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç–∞–π–º–ª–∞–π–Ω
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (env, BASE_DIR –∏ —Ç.–ø.)
‚îÇ   ‚îú‚îÄ‚îÄ security.py            # JWT, –ø–∞—Ä–æ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ cache.py               # cache_manager (Redis)
‚îÇ   ‚îî‚îÄ‚îÄ middleware.py          # –ª–æ–≥–∏—Ä—É—é—â–∏–π HTTP‚Äëmiddleware
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ models/                # ORM‚Äë–º–æ–¥–µ–ª–∏ (Users, Workouts, Exercises –∏ —Ç.–¥.)
‚îÇ   ‚îú‚îÄ‚îÄ session.py             # —Å–æ–∑–¥–∞–Ω–∏–µ AsyncSession
‚îÇ   ‚îî‚îÄ‚îÄ base.py / __init__.py  # –±–∞–∑–æ–≤–∞—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ repositories/
‚îÇ   ‚îú‚îÄ‚îÄ workout_repo.py        # —Å–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ metrics_repo.py        # –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ users.py               # UserCreate, UserOut
‚îÇ   ‚îú‚îÄ‚îÄ workout.py             # WorkoutCreate, WorkoutOut, MetricsOut
‚îÇ   ‚îú‚îÄ‚îÄ metrics.py             # MetricsSummaryResponse, TimelineItem
‚îÇ   ‚îî‚îÄ‚îÄ token.py               # Token (access_token, token_type)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ user_service.py        # —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, logout
‚îÇ   ‚îú‚îÄ‚îÄ workout_service.py     # –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ metrics_service.py     # —Ä–∞—Å—á—ë—Ç —Å–≤–æ–¥–∫–∏ –∏ —Ç–∞–π–º–ª–∞–π–Ω–∞
‚îî‚îÄ‚îÄ main.py                    # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI, —Ä–æ—É—Ç—ã, CORS, lifespan
```



## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç—ã –ª–µ–∂–∞—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `tests/`.

–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã (—á–µ—Ä–µ–∑ Make)
make test

# –° coverage
make test-cov

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –º–æ–¥—É–ª—å
pytest tests/test_workouts.py -v
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```bash
tests/
‚îú‚îÄ‚îÄ conftest.py            # —Ñ–∏–∫—Å—Ç—É—Ä—ã, —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç, test DB
‚îú‚îÄ‚îÄ test_auth.py           # —Ç–µ—Å—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ª–æ–≥–∏–Ω–∞
‚îú‚îÄ‚îÄ test_workouts.py       # —Ç–µ—Å—Ç—ã API —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
‚îî‚îÄ‚îÄ test_metrics.py        # —Ç–µ—Å—Ç—ã –º–µ—Ç—Ä–∏–∫/—Ç–∞–π–º–ª–∞–π–Ω–∞
```

---

## üìä –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π `.env` –≤ –∫–æ—Ä–Ω–µ –ø–æ –ø—Ä–∏–º–µ—Ä—É `.env.example`:

```env
# Database
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/fitmetrics

# Redis
REDIS_URL=redis://redis:6379/0

# JWT
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# App
DEBUG=True
API_V1_PREFIX=/api/v1
CACHE_TTL_DEFAULT=300
```

---

## üö¢ Deployment (–∫—Ä–∞—Ç–∫–æ)

Production‚Äë—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Docker Compose:

```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
make prod-build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –ø—Ä–æ–¥–µ
make prod

# –õ–æ–≥–∏
make prod-logs
```

## ü§ù –í–∫–ª–∞–¥

1. –°–æ–∑–¥–∞–π –≤–µ—Ç–∫—É: `git checkout -b feature/amazing-feature`  
2. –í–Ω–µ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è + —Ç–µ—Å—Ç—ã  
3. –ü—Ä–æ–≥–æ–Ω: `make format && make lint && make test`  
4. –û—Ç–∫—Ä–æ–π Pull Request

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**Powarar**

- GitHub: [@Powarar](https://github.com/Powarar)
- Telegram: [@safonovpavel](https://t.me/safonovpavel)

---

<div align="center">

‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–µ–Ω ‚Äî –Ω–µ –∑–∞–±—É–¥—å –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É!

[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É](#-fitmetrics)

</div>
```