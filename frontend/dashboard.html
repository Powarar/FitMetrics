<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitMetrics - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <rect width="40" height="40" rx="8" fill="url(#gradient)"/>
                    <path d="M20 10L12 15V25L20 30L28 25V15L20 10Z" fill="white"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
                            <stop offset="0%" stop-color="#667eea"/>
                            <stop offset="100%" stop-color="#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>FitMetrics</h1>
            </div>
            <div class="user-info">
                <span id="username">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                <button class="btn-logout" onclick="logout()">–í—ã—Ö–æ–¥</button>
            </div>
        </header>

        <main id="dashboard">
            <div class="filter-section">
                <div class="filter-label">üìÖ –ü–µ—Ä–∏–æ–¥:</div>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="setTimePeriod(7)">7 –¥–Ω–µ–π</button>
                    <button class="filter-btn" onclick="setTimePeriod(30)">30 –¥–Ω–µ–π</button>
                    <button class="filter-btn" onclick="setTimePeriod(90)">90 –¥–Ω–µ–π</button>
                    <button class="filter-btn" onclick="setTimePeriod(365)">–ì–æ–¥</button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <div class="stat-label">–í—Å–µ–≥–æ –æ–±—ä–µ–º</div>
                        <div class="stat-value" id="total-volume">0 –∫–≥</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <div class="stat-label">–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>
                        <div class="stat-value" id="workouts-count">0</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <line x1="12" y1="2" x2="12" y2="22"/>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π –æ–±—ä–µ–º</div>
                        <div class="stat-value" id="avg-volume">0 –∫–≥</div>
                    </div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-card">
                    <h3>üìä –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –æ–±—ä–µ–º</h3>
                    <canvas id="volumeChart"></canvas>
                </div>

                <div class="chart-card">
                    <h3>üí™ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h3>
                    <canvas id="workoutsChart"></canvas>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-card">
                    <h3>‚öñÔ∏è –°—Ä–µ–¥–Ω–∏–π –≤–µ—Å</h3>
                    <canvas id="avgWeightChart"></canvas>
                </div>

                <div class="chart-card">
                    <h3>üèãÔ∏è –ü–æ–¥—Ö–æ–¥—ã</h3>
                    <canvas id="setsChart"></canvas>
                </div>
            </div>

            <div class="workouts-section">
                <div class="section-header">
                    <h2>üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
                    <button class="btn-primary" onclick="showAddWorkoutModal()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <div id="workouts-list" class="workouts-list"></div>
            </div>
        </main>
    </div>

    <div id="add-workout-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</h2>
                <button class="btn-close" onclick="closeAddWorkoutModal()">√ó</button>
            </div>
            <form id="add-workout-form" onsubmit="handleAddWorkout(event); return false;">
                <div class="form-group">
                    <label for="exercise-name">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</label>
                    <input type="text" id="exercise-name" placeholder="–ñ–∏–º –ª–µ–∂–∞" required>
                </div>
                <div class="form-group">
                    <label for="muscle-group">–ì—Ä—É–ø–ø–∞ –º—ã—à—Ü</label>
                    <input type="text" id="muscle-group" placeholder="–ì—Ä—É–¥—å" value="general">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="sets">–ü–æ–¥—Ö–æ–¥—ã</label>
                        <input type="number" id="sets" min="1" max="50" value="3" required>
                    </div>
                    <div class="form-group">
                        <label for="reps">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</label>
                        <input type="number" id="reps" min="1" max="200" value="10" required>
                    </div>
                    <div class="form-group">
                        <label for="weight">–í–µ—Å (–∫–≥)</label>
                        <input type="number" id="weight" min="0" step="0.5" value="20" required>
                    </div>
                </div>
                <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                <div id="add-workout-error" class="error-message"></div>
            </form>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
